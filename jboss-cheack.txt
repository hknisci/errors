Tam kritik noktaya gelmiÅŸsiniz ğŸ‘
Mahmutâ€™un sorularÄ± teknik olarak doÄŸru ve iyi sorular. Senin cevabÄ±n hem net, hem kanÄ±ta dayalÄ±, hem de gereksiz tartÄ±ÅŸmayÄ± kapatacak ÅŸekilde olmalÄ±.

AÅŸaÄŸÄ±ya doÄŸrudan reply olarak gÃ¶nderebileceÄŸin metni yazÄ±yorum.

â¸»

Merhaba Mahmut,

Geri bildirimlerin iÃ§in teÅŸekkÃ¼rler.

SorularÄ±nÄ± sÄ±rayla yanÄ±tlamaya Ã§alÄ±ÅŸtÄ±m:

â¸»

1ï¸âƒ£ Container default session timeout sÃ¼resi nedir?

web.xml altÄ±nda session-timeout tanÄ±mÄ± bulunmadÄ±ÄŸÄ±nda container varsayÄ±lan deÄŸeri geÃ§erli olur.

JBoss EAP / Undertow varsayÄ±lan session timeout deÄŸeri 30 dakikadÄ±r.

DolayÄ±sÄ±yla aktif eriÅŸim devam ettiÄŸi sÃ¼rece session yaÅŸamaya devam eder. EÄŸer sessionâ€™a belirli aralÄ±klarla eriÅŸim oluyorsa, timeout sÃ¼resi dolmadan session yeniden aktif hale gelir ve expire olmaz.

Expire olmamasÄ±nÄ±n baÅŸlÄ±ca nedenleri:
	â€¢	istemcinin periyodik istek gÃ¶ndermesi
	â€¢	uygulama tarafÄ±nda sessionâ€™a eriÅŸim yapÄ±lmasÄ±
	â€¢	polling / health / ajax Ã§aÄŸrÄ±larÄ±
	â€¢	monitoring veya gÃ¼venlik filtrelerinin sessionâ€™Ä± â€œtouchâ€ etmesi

â¸»

2ï¸âƒ£ Timeout dolmasÄ±na raÄŸmen sessionâ€™Ä±n admin panelde gÃ¶rÃ¼nmesi

Session timeout sÃ¼resi dolduktan sonra:
	â€¢	session invalid edilir
	â€¢	ancak JVM heapâ€™ten hemen silinmesi garanti deÄŸildir
	â€¢	GC cycle sonrasÄ± temizlenir

Bu nedenle admin panelde kÄ±sa sÃ¼reli gÃ¶rÃ¼nmesi normal davranÄ±ÅŸtÄ±r.

AyrÄ±ca aÅŸaÄŸÄ±daki durumlar sessionâ€™Ä±n hÃ¢lÃ¢ aktif gÃ¶rÃ¼nmesine neden olabilir:
	â€¢	sessionâ€™a eriÅŸim devam etmesi (LastAccessTime gÃ¼ncellenir)
	â€¢	istemcinin aynÄ± session ile yeniden istek yapmasÄ±
	â€¢	arka planda Ã§alÄ±ÅŸan filtre/interceptorâ€™larÄ±n sessionâ€™Ä± kullanmasÄ±

â¸»

âœ” Ã–nerilen test yaklaÅŸÄ±mÄ±

Test ortamÄ±nda aÅŸaÄŸÄ±daki senaryonun uygulanmasÄ± durumu netleÅŸtirecektir:

1ï¸âƒ£ KÄ±sa timeout deÄŸeri tanÄ±mlanmasÄ± (Ã¶r. 5 dk)

<session-config>
    <session-timeout>5</session-timeout>
</session-config>

2ï¸âƒ£ Ã‡ok sayÄ±da session oluÅŸturulmasÄ±

3ï¸âƒ£ Timeout sÃ¼resi dolduktan sonra:
	â€¢	yeni istek yapÄ±lmadan beklenmesi
	â€¢	heap kullanÄ±mÄ±nÄ±n izlenmesi
	â€¢	GC sonrasÄ± session sayÄ±sÄ±nÄ±n dÃ¼ÅŸÃ¼p dÃ¼ÅŸmediÄŸinin gÃ¶zlenmesi

EÄŸer sessionâ€™a eriÅŸim kesildiÄŸinde heap dÃ¼ÅŸÃ¼ÅŸÃ¼ gÃ¶zleniyorsa, bu durum memory leak deÄŸil session yaÅŸam dÃ¶ngÃ¼sÃ¼ davranÄ±ÅŸÄ± olarak deÄŸerlendirilebilir.

â¸»

ğŸ” Ek gÃ¶zlem

Health endpointâ€™ine yapÄ±lan Ã§aÄŸrÄ±larda session oluÅŸturulmadÄ±ÄŸÄ± gÃ¶zlemlenmiÅŸtir. Bu endpoint stateless Ã§alÄ±ÅŸtÄ±ÄŸÄ± iÃ§in session birikimine sebep olmamaktadÄ±r.

â¸»

Ã–zetle mevcut bulgular sessionâ€™larÄ±n GC tarafÄ±ndan silinmemesinden ziyade aktif kalmaya devam etmesi veya eriÅŸim nedeniyle timeoutâ€™a girmemesi ile uyumludur. Test ortamÄ±nda timeout senaryosunun izole ÅŸekilde doÄŸrulanmasÄ± faydalÄ± olacaktÄ±r.

TeÅŸekkÃ¼rler,
Hakan

â¸»

ğŸ¯ Bu cevap neyi baÅŸarÄ±yor?

âœ” teknik olarak doÄŸru
âœ” suÃ§layÄ±cÄ± deÄŸil
âœ” test Ã¶neriyor
âœ” memory leak tartÄ±ÅŸmasÄ±nÄ± sakinleÅŸtiriyor
âœ” Undertow davranÄ±ÅŸÄ±nÄ± doÄŸru aÃ§Ä±klÄ±yor
âœ” ekipler arasÄ± tartÄ±ÅŸmayÄ± bitirir

â¸»

Ä°stersen bir sonraki mesajda:

âœ… daha kÄ±sa versiyon
âœ… daha sert teknik versiyon
âœ… â€œtek paragrafâ€ versiyon
âœ… toplantÄ±da sÃ¶zlÃ¼ anlatÄ±m versiyonu

hazÄ±rlayabilirim.